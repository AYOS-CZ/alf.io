<div class="sidebar" data-ng-if="ctrl.event">
    <ul class="list-unstyled">
        <li data-ng-if="ctrl.internal && ctrl.isDetail">
            <label class="control-label text-muted" for="sidebarCategoryFilter"><h4>Categories</h4></label>
        </li>
        <li data-ng-if="ctrl.internal && ctrl.isDetail">
            <form class="form-inline">
                <label>
                    <div class="input-group">
                        <input type="search" id="sidebarCategoryFilter" data-ng-change="ctrl.filterChanged()" data-ng-model="ctrl.categoryFilter.freeText" class="form-control input-sm" placeholder="Filter...">
                        <div class="input-group-addon"><i class="fa fa-search"></i></div>
                    </div>
                </label>
            </form>
        </li>
        <li data-ng-if="ctrl.internal && ctrl.isDetail">
            <ul class="nav nav-pills nav-stacked">
                <li data-ng-repeat="category in ctrl.event.ticketCategories | showSelectedCategories : ctrl.categoryFilter"><a data-ng-click="ctrl.goToCategory(category)"><i class="fa fa-ticket"></i> {{category.name}}</a></li>
                <li data-ng-if="(ctrl.event.ticketCategories | showSelectedCategories : ctrl.categoryFilter).length === 0">nothing found</li>
            </ul>
        </li>
        <li><h4 class="text-muted">Details</h4></li>
        <li>
            <ul class="nav nav-pills nav-stacked" data-ng-if="ctrl.internal">
                <li role="presentation" data-ui-sref-active="active">
                    <a data-ui-sref="events.single.email-log({eventName:ctrl.event.shortName})"><i class="fa fa-paper-plane-o"></i> e-mail log</a>
                </li>
                <li role="presentation" data-ui-sref-active="active">
                    <a data-ui-sref="events.single.plugin-log({eventName:ctrl.event.shortName})"><i class="fa fa-plug"></i> Plugins log</a>
                </li>
            </ul>
        </li>
        <li><h4 class="text-muted">Status</h4></li>
        <li>
            <ul class="nav nav-pills nav-stacked" data-ng-if="ctrl.internal">
                <li role="presentation" data-ui-sref-active="active">
                    <waiting-queue-display-counter style-class="emulate-nav-pills-link" data-event="ctrl.event"></waiting-queue-display-counter>
                </li>
                <li role="presentation" data-ng-if="ctrl.event" data-ui-sref-active="active">
                    <pending-reservations-link style-class="emulate-nav-pills-link" data-event="ctrl.event"></pending-reservations-link>
                </li>
            </ul>
        </li>
        <li><h4 class="text-muted">Actions</h4></li>
        <li>
            <ul class="nav nav-pills nav-stacked" data-ng-if="ctrl.internal">
                <li role="presentation" data-ui-sref-active="active">
                    <a data-ui-sref="events.single.configuration({eventName: ctrl.event.shortName})"><i class="fa fa-wrench"></i> edit configuration</a>
                </li>
            </ul>
            <ul class="nav nav-pills nav-stacked" data-ng-if="ctrl.internal">
                <li role="presentation" data-ui-sref-active="active">
                    <a data-ui-sref="events.single.compose-custom-message({eventName: ctrl.event.shortName})"><i class="fa fa-envelope"></i> compose message</a>
                </li>
            </ul>
            <ul class="nav nav-pills nav-stacked" data-ng-if="ctrl.internal && !ctrl.event.expired">
                <li role="presentation">
                    <a data-ui-sref="events.single.checkIn({eventName: ctrl.event.shortName})"><i class="fa fa-check"></i> Check-in</a>
                </li>
            </ul>
            <ul class="nav nav-pills nav-stacked" data-ng-if="ctrl.internal">
                <li role="presentation">
                    <a ng-click="ctrl.openDeleteWarning(ctrl.event)"><i class="fa fa-trash"></i> Delete</a>
                </li>
            </ul>
        </li>
        <li><h4 class="text-muted">Resources</h4></li>
        <li>
            <ul class="nav nav-pills nav-stacked" data-ng-if="ctrl.internal">
                <li role="presentation">
                    <a data-ng-click="ctrl.openFieldSelectionModal()"><i class="fa fa-download"></i> attendees' data</a>
                    <a data-ng-click="ctrl.downloadSponsorsScan()" ><i class="fa fa-download"></i> sponsors scan</a>
                </li>
            </ul>
        </li>
        <li data-ng-if="!ctrl.isDetail">
            <ul class="nav nav-pills nav-stacked">
                <li>
                    <a data-ui-sref="events.single.detail({eventName: ctrl.event.shortName})"><i class="fa fa-arrow-left"></i> back to {{ctrl.event.displayName}}</a>
                </li>
            </ul>
        </li>
    </ul>
</div>