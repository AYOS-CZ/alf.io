<div class="panel panel-default">
    <div class="panel-heading">
        <h1 class="panel-title">Past events</h1>
    </div>
    <div class="panel-body" ng-if="!$ctrl.open">
        <button class="btn" ng-click="$ctrl.loadExpiredEvents()">Load expired events</button>
    </div>
    <div class="panel-body" ng-if="$ctrl.open">

        <div class="text-center text-muted" data-ng-if="$ctrl.loading">
            <div class="wMarginTop">
                <i class="fa fa-cog fa-spin fa-3x"></i>
            </div>
        </div>
        <div class="table-responsive" data-ng-if="!$ctrl.loading">
            <table class="table">
                <thead>
                <tr>
                    <th>name</th>
                    <th class="hidden-xs">schedule</th>
                    <th>&nbsp;</th>
                </tr>
                </thead>
                <tbody>
                <tr data-ng-if="!$ctrl.events || $ctrl.events.length == 0">
                    <td colspan="4">no past events have been found.</td>
                </tr>
                <tr data-ng-repeat="event in $ctrl.events">
                    <td data-ng-class-even="'active'">
                        <a data-ui-sref="events.single.detail({eventName: event.shortName})">{{event.displayName}}</a>
                    </td>
                    <td data-ng-class-even="'active'" class="hidden-xs">{{event.formattedBegin | formatDate}} / {{event.formattedEnd | formatDate}}</td>
                    <td data-ng-class-even="'active'" class="text-right">
                        <a class="btn btn-primary btn-xs hidden-xs" data-ui-sref="events.single.detail({eventName: event.shortName})">
                            <i class="fa fa-bar-chart"></i> Detail
                        </a>
                        <a class="btn btn-primary btn-xs hidden-xs" data-ui-sref="events.single.configuration({eventName: event.shortName})">
                            <i class="fa fa-wrench"></i> Settings
                        </a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>


    </div>
</div>